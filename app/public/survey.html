<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Survey</title>
    <!-- <script src="https://code.jquery.com/jquery.js"></script> -->
    <!-- Bootstrap Link -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <!-- CSS Link -->
    <!-- <link rel="stylesheet" type="text/css" href="../public/style.css"> -->
    <link rel="stylesheet" type="text/css" href="./survey.css">
    <!-- Google Fonts link -->
    <link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great|Fredoka+One" rel="stylesheet">
    <!-- Fonts Awesome Link -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP"
        crossorigin="anonymous">


</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <div class="header">
                <h1>Survey Questions</h1>
            </div>
            <hr>


            <!-- QUESTIONS FORM STARTS HERE -->
            <form>
                <div class="row">
                    <div class="col col-12">
                        <form>

                            <div class="form-group">
                                <h2>About you</h2>
                                <hr>
                                <label for="name">What's your name? (Required)</label>
                                <input type="input" class="form-control lg-width" id="yourname" placeholder="First name">

                            </div>

                            <div class="form-group">
                                <label for="photo">Your Photo (Required)</label>
                                <input type="input" class="form-control lg-width" id="yourphoto" placeholder="Link your photo image">

                            </div>
                            <hr>

                            <h2>...<i class="far fa-comment-dots fa-2x"></i></i><i class="fas fa-question-circle fa-lg"></i><i
                                    class="far fa-question-circle fa-sm"></i>
                                --Questions-- <i class="far fa-question-circle fa-sm"></i><i class="fas fa-question-circle fa-lg"></i><i
                                    class="far fa-comment-dots fa-2x"></i>...</h2>
                            <hr>

                            <!-- question 1 -->
                            <h5>Question1</h5>
                            <h5>I think that [friend] is one of those people who quickly
                                wins respect. </h5>
                            <select data-placeholder="" id="q1" class="chosen-select form-control sm-width mb-2">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>


                            <!-- question 2  -->
                            <h5>Question2</h5>
                            <h5>If I could never be with [loved one], I would feel
                                miserable.</h5>
                            <select data-placeholder="" id="q2" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 3 -->
                            <h5>Question3</h5>
                            <h5>I have great confidence in [friend]â€™s good judgment. </h5>
                            <select data-placeholder="" id="q3" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 4 -->
                            <h5>Question4</h5>
                            <h5> When I am with [loved one], I spend a good deal of time
                                just looking at him/her.</h5>
                            <select data-placeholder="" id="q4" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option v alue="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 5 -->
                            <h5>Question5</h5>
                            <h5> When I am with [friend], we are almost always in the
                                same mood.</h5>
                            <select data-placeholder="" id="q5" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 6 -->
                            <h5>Question6</h5>
                            <h5>If I were lonely, my first thought would be to seek
                                [loved one] out. </h5>
                            <select data-placeholder="" id="q6" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 7 -->
                            <h5>Question7</h5>
                            <h5>[Friend] is the sort of person whom I myself would like
                                to be. </h5>
                            <select data-placeholder="" id="q7" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 8 -->
                            <h5>Question8</h5>
                            <h5> I would do almost anything for [loved one].</h5>
                            <select data-placeholder="" id="q8" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 9 -->
                            <h5>Question9</h5>
                            <h5> Most people would react very favorably to [friend] after
                                a brief acquaintance.</h5>
                            <select data-placeholder="" id="q9" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 10 -->
                            <h5>Question10</h5>
                            <h5>It would be hard for me to get along without [loved
                                one]. </h5>
                            <select data-placeholder="" id="q10" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>
                            <hr>

                            <button type="submit" id="submit" class="btn btn-warning btn-lg btn-block"><i class="far fa-paper-plane"></i>Submit</button>
                        </form>
                    </div>
                </div>
            </form>
            <hr>
            <footer class="footer">
                <div class="container">
                    <p>
                        <a href="/api/friends"><i class="fas fa-users"></i>API Friends List</a>
                        |
                        <a href="#"><i class="fab fa-github-alt"></i>GitHub Repo</a>
                    </p>
                </div>
            </footer>

            <!-- Modal -->
            <div id="resultsModal" class="modal fade" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content -->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">X</button>
                            <h2 class="modal-titlle">Best Match</h2>
                        </div>

                        <div class="modal-body">
                            <h2 id="matchName"></h2>
                            <img src="" alt="" id="matchImg">
                        </div>

                        <div class="modal-footer">
                            <button class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- <script type="text/javascript" src="./survey.js"></script> -->

    <!-- =================================================================== -->
    <script>
        var config = {
            ".chosen-select": {},
            ".chosen-select-deselect": { allow_single_deselect: true },
            ".chosen-select-no-single": { disable_search_threshold: 10 },
            ".chosen-select-no-results": { no_results_text: "Oopss!!! Nothing found..." },
            ".chosen-select-width": { width: "95%" }
        };


        // Capture from inputs
        $("#submit").on("click", function (event) {
            console.log("SUBMIT")
            event.preventDefault();

            // Form Validation
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    console.log("This is form-control");

                    if ($(this).val() === "") {
                        console.log("this is invalid");

                        isValid = false;
                    }
                });

                $(".chosen-select").each(function () {
                    console.log("this is chosen select");

                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }

            // // If all required fields are filled

            if (validateForm()) {

                var newFriends = {
                    name: $("#yourname").val().trim(),
                    photo: $("#yourphoto").val().trim(),
                    score: [
                        $("#q1").val(),
                        $("#q2").val(),
                        $("#q3").val(),
                        $("#q4").val(),
                        $("#q5").val(),
                        $("#q6").val(),
                        $("#q7").val(),
                        $("#q8").val(),
                        $("#q9").val(),
                        $("#q10").val()
                    ]
                };

                // Grab the URL of the website

                // AJAX post the data to the friends API.
                $.post("/api/friends", newFriends, function (data) {
                    // console.log("DATA: ", data);
                    $("#matchName").text(data.name);
                    $("#matchImg").attr("src", data.photo);

                    // Show the modal with the best match
                    $("#resultsModal").modal("toggle");
                    alert("It Works!!!");
                });

            } else {
                alert("Please fill out all fields before submitting!!!")
            }
            return false;
        });
    </script>
    <!-- =================================================================== -->
</body>

</html>