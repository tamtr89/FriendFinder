<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Survey</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->


    <!-- Google Fonts link -->
    <link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great|Fredoka+One" rel="stylesheet">

    <!-- Fonts Awesome Link -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP"
        crossorigin="anonymous">

    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

    <!-- CSS Custom -->
    <link rel="stylesheet" type="text/css" href="./survey.css">

</head>

<body>

    <div class="container">
        <div class="jumbotron">
            <div class="header">
                <h1>Survey Questions</h1>
            </div>
            <hr>


            <!-- QUESTIONS FORM STARTS HERE -->
            <form>
                <div class="row">
                    <div class="col col-12">
                        <form>

                            <div class="form-group">
                                <h2>About you</h2>
                                <hr>
                                <label for="name">What's your name? (Required)</label>
                                <input type="input" class="form-control lg-width" id="yourname" placeholder="First name">

                            </div>

                            <div class="form-group">
                                <label for="photo">Your Photo (Required)</label>
                                <input type="input" class="form-control lg-width" id="yourphoto" placeholder="Link your photo image">

                            </div>
                            <hr>

                            <h2>...<i class="far fa-comment-dots fa-2x"></i></i><i class="fas fa-question-circle fa-lg"></i><i
                                    class="far fa-question-circle fa-sm"></i>
                                --Questions-- <i class="far fa-question-circle fa-sm"></i><i class="fas fa-question-circle fa-lg"></i><i
                                    class="far fa-comment-dots fa-2x"></i>...</h2>
                            <hr>

                            <!-- question 1 -->
                            <h6>Question 1</h6>
                            <h5>I think that [friend] is one of those people who quickly
                                wins respect. </h5>
                            <select data-placeholder="" id="q1" class="chosen-select form-control sm-width mb-2">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>


                            <!-- question 2  -->
                            <h6>Question 2</h6>
                            <h5>If I could never be with [loved one], I would feel
                                miserable.</h5>
                            <select data-placeholder="" id="q2" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 3 -->
                            <h6>Question 3</h6>
                            <h5>I have great confidence in [friend]â€™s good judgment. </h5>
                            <select data-placeholder="" id="q3" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 4 -->
                            <h6>Question 4</h6>
                            <h5> When I am with [loved one], I spend a good deal of time
                                just looking at him/her.</h5>
                            <select data-placeholder="" id="q4" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option v alue="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 5 -->
                            <h6>Question 5</h6>
                            <h5> When I am with [friend], we are almost always in the
                                same mood.</h5>
                            <select data-placeholder="" id="q5" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 6 -->
                            <h6>Question 6</h6>
                            <h5>If I were lonely, my first thought would be to seek
                                [loved one] out. </h5>
                            <select data-placeholder="" id="q6" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 7 -->
                            <h6>Question 7</h6>
                            <h5>[Friend] is the sort of person whom I myself would like
                                to be. </h5>
                            <select data-placeholder="" id="q7" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 8 -->
                            <h6>Question 8</h6>
                            <h5> I would do almost anything for [loved one].</h5>
                            <select data-placeholder="" id="q8" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 9 -->
                            <h6>Question 9</h6>
                            <h5> Most people would react very favorably to [friend] after
                                a brief acquaintance.</h5>
                            <select data-placeholder="" id="q9" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>

                            <!-- question 10 -->
                            <h6>Question 10</h6>
                            <h5>It would be hard for me to get along without [loved
                                one]. </h5>
                            <select data-placeholder="" id="q10" class="chosen-select form-control sm-width mb-2 ">
                                <option value="">Select option</option>
                                <option value="1">1 (Strongly Disagree)</option>
                                <option value="2">2 </option>
                                <option value="3">3 (Meh)</option>
                                <option value="4">4 </option>
                                <option value="5">5 (Strongly Agree</option>
                            </select>
                            <br>
                            <hr>

                            <button type="submit" id="submit" class="btn btn-warning btn-lg btn-block"><i class="far fa-paper-plane"></i>Submit</button>
                        </form>
                    </div>
                </div>
            </form>
            <hr>
            <footer>
                <div class="container">
                    <p>

                        <a href="/api/friends">[<i class="fas fa-users"></i>API Friends List</a>
                        ] [
                        <a href="https://github.com/tamtr89/FriendFinder"><i class="fab fa-github-alt"></i>GitHub Repo
                            ]</a>
                    </p>
                </div>
            </footer>

        
            <!-- Christina's MODAL -->
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                Launch demo modal
            </button>

            <!-- Modal -->
            <div id="results-modal" class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            ...
                            <h1>Best Match</h1>
                            <div id="match-name" alt="">

                            </div>
                            
                            <img src="" alt="" id="match-img">

                            
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    

    <!-- =================================================================== -->
    <script type="text/javascript">
        // Chosen CSS
        // var config = {
        //     ".chosen-select": {},
        //     ".chosen-select-deselect": { allow_single_deselect: true },
        //     ".chosen-select-no-single": { disable_search_threshold: 10 },
        //     ".chosen-select-no-results": { no_results_text: "Oopss!!! Nothing found..." },
        //     ".chosen-select-width": { width: "95%" }
        // };

        // for (var selector in config) {
        //     jQuery(selector).chosen(config[selector]);
        // }

        // Capture from inputs
        $("#submit").on("click", function (event) {
            console.log("SUBMIT")
            event.preventDefault();

            // Form Validation
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    console.log("This is form-control");

                    if ($(this).val() === "") {
                        console.log("this is invalid");

                        isValid = false;
                    }
                });

                $(".chosen-select").each(function () {
                    console.log("this is chosen select");

                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }

            // // If all required fields are filled

            if (validateForm()) {

                var userData = {
                    name: $("#yourname").val().trim(),
                    photo: $("#yourphoto").val().trim(),
                    score: [
                        parseInt($("#q1").val()),
                        parseInt($("#q2").val()),
                        parseInt($("#q3").val()),
                        parseInt($("#q4").val()),
                        parseInt($("#q5").val()),
                        parseInt($("#q6").val()),
                        parseInt($("#q7").val()),
                        parseInt($("#q8").val()),
                        parseInt($("#q9").val()),
                        parseInt($("#q10").val())
                    ]
                };

                // AJAX post the data to the friends API.
                $.post("/api/friends", userData, function (data) {
                    console.log("DATA: ", data);
                    // Grab the result from the AJAX
                    $("#match-name").text(data.name);
                    $("#match-img").attr("src", data.photo);

                    // Show the modal with the best match
                    $("#results-modal").modal("toggle");
                    // $("#results-modal").modal("show");
                    // alert("It Works!!!");
                });

            } else {
                alert("Please fill out all fields before submitting!!!")
            }
            return false;
        });
    </script>
    <!-- =================================================================== -->
</body>

</html>